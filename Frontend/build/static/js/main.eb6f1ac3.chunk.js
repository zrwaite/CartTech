(this.webpackJsonpcarttech=this.webpackJsonpcarttech||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(8),s=c.n(a),i=(c(13),c(2)),o=(c(14),c(3)),l=function(){return window.location.hash.replace("#","")||"/"},d=function(){var e=Object(r.useState)(l()),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){return n(l())};return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}}),[]),[c,Object(r.useCallback)((function(e){return window.location.hash=e}),[])]},j=(c(7),c(0));var u=function(){return Object(j.jsx)("div",{id:"home",children:Object(j.jsxs)("div",{className:"mt-4",children:[Object(j.jsx)("h1",{className:"fw-bolder proj-name display-1",children:"CartTech"}),Object(j.jsx)("h3",{className:"cursor text-center fw-bolder",children:"Where you don't move the cart, the cart moves you!"})]})})};var h=function(){return Object(j.jsxs)("div",{id:"about",children:[Object(j.jsx)("div",{id:"backgroundimg"}),Object(j.jsx)("p",{className:"text-center cursor fw-bolder text-white lead",children:"Grocery Shopping is a repetive, menial task, which means it is ripe for automation. Also, as we learned in the past 2 years, having these warehouse-like stores as a congregation point comes with many drawbacks. CartTech is here to make the process easier than ever."})]})};var b=function(){return Object(j.jsxs)("div",{id:"login",children:[Object(j.jsx)("h1",{className:"display-1",children:"CartTech"}),Object(j.jsx)("p",{className:"lead",children:"This is the login page."})]})};var m=function(){return Object(j.jsxs)("div",{id:"register",children:[Object(j.jsx)("h1",{className:"display-1",children:"CartTech"}),Object(j.jsx)("p",{className:"lead",children:"This is the register page."})]})};var O=function(e){var t=Object(o.e)(),c=Object(i.a)(t,2),r=(c[0],c[1]);return Object(j.jsxs)("div",{id:"storeCard",className:"card m-2 text-center",children:[Object(j.jsx)("button",{onClick:function(){localStorage.setItem("storeId",e.storeId),r("/products")},className:"btn btn-primary btn-lg",children:e.storeName}),Object(j.jsx)("img",{src:"http://carttech.tech/files/"+e.storeImage,alt:"Image of "+e.storeName,className:"img-fluid"}),Object(j.jsx)("p",{className:"lead mt-4",children:e.storeInfo}),Object(j.jsxs)("p",{className:"lead my-2",children:["Carts Available: ",e.storeAvailable," / ",e.storeTotal]})]})};var p=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)([]),s=Object(i.a)(a,2),o=s[0],l=s[1],d=Object(r.useState)(!1),u=Object(i.a)(d,2),h=u[0],b=u[1];return Object(r.useEffect)((function(){h||fetch("http://carttech.tech/api/stores").then((function(e){return e.json()})).then((function(e){n(e.response.stores);for(var t=[],r=0,a=0;r<c.length;r++)r>=3&&r%3===0&&a++,t[a]=t[a]||[],t[a].push(c[r]);return l(t),console.log(o),!0})).then((function(e){return b(e)}))}),[c,o,h]),Object(j.jsxs)("div",{id:"stores",className:"container",children:[Object(j.jsx)("div",{className:"row text-center",children:Object(j.jsx)("h1",{className:"display-1 mt-4",children:"Stores"})}),Object(j.jsx)("div",{className:"row text-center my-3",children:Object(j.jsx)("p",{className:"h3",children:"Here are all the stores you can shop at!"})}),o.map((function(e,t){return Object(j.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(O,{storeId:e._id,storeName:e.name,storeInfo:e.info,storeAvailable:e.available_carts,storeTotal:e.total_carts,storeImage:e.image_link})},t)}))})}))]})};var f=function(e){return Object(j.jsxs)("div",{id:"productCard",className:"card m-4 text-center",children:[Object(j.jsx)("img",{src:"http://carttech.tech/files/"+e.productImage,alt:"Image of "+e.productName,className:"img-fluid"}),Object(j.jsx)("h3",{className:"display-3",children:e.productName}),Object(j.jsxs)("h3",{children:["Price: ",e.productPrice]})]})};var x=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)([]),s=Object(i.a)(a,2),o=s[0],l=s[1],d=Object(r.useState)(!1),u=Object(i.a)(d,2),h=u[0],b=u[1];return Object(r.useEffect)((function(){h||fetch("http://carttech.tech/api/products?store_id="+localStorage.getItem("storeId")).then((function(e){return e.json()})).then((function(e){n(e.response.products);for(var t=[],r=0,a=0;r<c.length;r++)r>=3&&r%3===0&&a++,t[a]=t[a]||[],t[a].push(c[r]);return l(t),!0})).then((function(e){return b(e)}))}),[c,o,h]),Object(j.jsxs)("div",{id:"products",className:"container",children:[Object(j.jsx)("div",{className:"row text-center",children:Object(j.jsx)("h1",{className:"display-1 mt-4",children:"Products"})}),Object(j.jsx)("div",{className:"row text-center my-3",children:Object(j.jsx)("p",{className:"h3",children:"Here are all the products available here:"})}),o.map((function(e){return Object(j.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(f,{productId:e.id,productImage:e.image_link,productName:e.name,productPrice:e.price})},t)}))})}))]})};var v=function(e){var t=Object(r.useState)([]),c=Object(i.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)([]),o=Object(i.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(!1),h=Object(i.a)(u,2),b=h[0],m=h[1];return Object(r.useEffect)((function(){b||(console.log(e.orderStore),fetch("http://carttech.tech/api/products?store_id="+e.orderStore).then((function(e){return e.json()})).then((function(t){a(t.response.products),console.log(n);for(var c=[],r=0;r<e.orderProducts.length;r++)for(var s=0;s<n.length;s++)e.orderProducts[r].id==n[s]._id&&c.push({image_id:n[s].image_link,name:n[s].name,price:n[s].price});return d(c),!0})).then((function(e){return m(e)})))}),[b,n]),Object(j.jsxs)("div",{id:"orderCard",className:"container card",children:[Object(j.jsxs)("h4",{children:["Order Status: ",e.orderStatus]}),Object(j.jsxs)("p",{className:"lead",children:["Subtotal: ",e.subtotal]}),Object(j.jsxs)("p",{className:"lead",children:["Total: ",e.total]}),l.map((function(t,c){return console.log(t.image_link),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-4 display-2",children:[e.orderProducts[c].quantity," of "]}),Object(j.jsx)("div",{className:"col-8",children:Object(j.jsx)(f,{productImage:t.image_id,productName:t.name,productPrice:t.price},c)})]})}))]})};var g=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)([]),s=Object(i.a)(a,2),l=s[0],d=(s[1],Object(r.useState)(!1)),u=Object(i.a)(d,2),h=u[0],b=u[1],m=Object(r.useState)([]),O=Object(i.a)(m,2),p=O[0],f=O[1],x=Object(o.e)(),g=Object(i.a)(x,2),N=(g[0],g[1]);function w(){localStorage.setItem("storeOrder","61460e30981149a3c03b1393"),N("/newOrder")}return Object(r.useEffect)((function(){h||(fetch("http://carttech.tech/api/orders?username=129032699zw@gmail.com").then((function(e){return e.json()})).then((function(e){return n(e.response),!0})).then((function(e){return b(e)})),fetch("http://carttech.tech/api/stores").then((function(e){return e.json()})).then((function(e){return f(e.response.stores)})))}),[c,l,h]),Object(j.jsxs)("div",{id:"orders",className:"container",children:[Object(j.jsxs)("div",{className:"row text-center",children:[Object(j.jsx)("h3",{children:"New Order"}),p.map((function(e,t){return 1===t?Object(j.jsx)("button",{onClick:w,className:"btn btn-primary",children:e.name},t):Object(j.jsx)("button",{onClick:w,className:"btn btn-primary",disabled:!0,children:e.name},t)}))]}),Object(j.jsx)("div",{className:"row text-center",children:Object(j.jsx)("h1",{className:"display-1 mt-4",children:"Orders"})}),Object(j.jsx)("div",{className:"row text-center my-3",children:Object(j.jsx)("p",{className:"h3",children:"Here are all your orders (both past and in progress):"})}),Object(j.jsx)("div",{className:"row",children:c.map((function(e,t){return Object(j.jsx)(v,{orderStore:e.store_id,orderStatus:e.status,subtotal:e.price,total:e.taxed_price,orderProducts:e.products},t)}))})]})};var N=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)([]),s=Object(i.a)(a,2),l=s[0],d=s[1],u=Object(r.useState)([]),h=Object(i.a)(u,2),b=h[0],m=h[1],O=Object(o.e)(),p=Object(i.a)(O,2),x=(p[0],p[1]);function v(e){for(var t=0,c=0;c<l.length;c++){for(var r,n=0;n<l.length;n++)l[n]._id==e[c].id&&(r=l[n].price);t+=e[c].quantity*r}return t}return Object(r.useEffect)((function(){c||fetch("http://carttech.tech/api/products?store_id="+localStorage.getItem("storeOrder")).then((function(e){return e.json()})).then((function(e){return d(e.response.products),!0})).then((function(e){n(e)}))}),[c,l,b]),Object(j.jsxs)("div",{id:"newOrder",className:"container",children:[Object(j.jsx)("div",{className:"row",children:l.map((function(e,t){return Object(j.jsxs)("div",{className:"col",align:"center",children:[Object(j.jsx)(f,{productId:e._id,productImage:e.image_link,productName:e.name,productPrice:e.price}),Object(j.jsx)("input",{type:"number",id:"a"+e._id,min:"0",placeholder:"0"})]})}))}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("button",{className:"btn btn-primary m-4",onClick:function(){for(var e=[],t=0;t<l.length;t++)""===document.getElementById("a"+l[t]._id).value&&(document.getElementById("a"+l[t]._id).value=0),e.push({id:l[t]._id,quantity:parseInt(document.getElementById("a"+l[t]._id).value)>0?parseInt(document.getElementById("a"+l[t]._id).value):0});console.log(e),m(e),setTimeout((function(){fetch("http://carttech.tech/api/orders",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:"HTN420",store_id:"61460e30981149a3c03b1393",price:v(e),username:"129032699zw@gmail.com",products:e})}).then((function(t){console.log(t),localStorage.setItem("products",e),x("/orderDone")}))}),2e3)},children:"Send Order"})})]})};var w=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),c=t[0];return t[1],Object(r.useEffect)((function(){if(!c){var e=localStorage.getItem("products");console.log(e[0])}}),[c]),Object(j.jsx)("div",{id:"orderDone",className:"container text-center",children:Object(j.jsx)("h1",{className:"display-2 m-2",children:"Your order is complete!"})})},S=function(){return Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",component:u}),Object(j.jsx)(o.b,{path:"/about",component:h}),Object(j.jsx)(o.b,{path:"/login",component:b}),Object(j.jsx)(o.b,{path:"/register",component:m}),Object(j.jsx)(o.b,{path:"/stores",component:p}),Object(j.jsx)(o.b,{path:"/products",component:x}),Object(j.jsx)(o.b,{path:"/orders",component:g}),Object(j.jsx)(o.b,{path:"/newOrder",component:N}),Object(j.jsx)(o.b,{path:"/orderDone",component:w})]})};c.p;var y=function(){var e=Object(r.useState)(),t=Object(i.a)(e,2),c=t[0],n=(t[1],Object(r.useState)(!1)),a=Object(i.a)(n,2),s=a[0];return a[1],Object(r.useEffect)((function(){0}),[s,c]),Object(j.jsxs)(o.c,{hook:d,children:[Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsxs)(o.a,{className:"navbar-brand",href:"/",children:[Object(j.jsx)("img",{src:"LogoIdea1.png",alt:"",width:"30",className:"mx-2"}),Object(j.jsx)("button",{type:"button",className:"btn btn-outline-light",children:"CartTech"})]}),Object(j.jsxs)("ul",{className:"navbar-nav",children:[Object(j.jsx)("li",{className:"nav-item mx-2",children:Object(j.jsx)(o.a,{className:"nav-link",href:"/about",children:"About"})}),Object(j.jsx)("li",{className:"nav-item mx-2",children:Object(j.jsx)("a",{className:"nav-link",href:"http://carttech.tech/login",children:"Login/Register"})}),Object(j.jsx)("li",{className:"nav-item mx-2",children:Object(j.jsx)(o.a,{className:"nav-link",href:"/stores",children:"Stores"})}),Object(j.jsx)("li",{className:"nav-item mx-2",children:Object(j.jsx)(o.a,{className:"nav-link",href:"/orders",children:"Orders"})})]})]})}),c,Object(j.jsx)("main",{role:"main",className:"wrapper",children:Object(j.jsx)("div",{className:"content",children:Object(j.jsx)(S,{})})})]})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),I()},7:function(e,t,c){}},[[16,1,2]]]);
//# sourceMappingURL=main.eb6f1ac3.chunk.js.map